{"changed":true,"filter":false,"title":"hcdl_stack.yml","tooltip":"/hcdl_stack.yml","value":"AWSTemplateFormatVersion: '2010-09-09'\nDescription: 'Healthcare data lake'\n\nParameters:\n  ArtifactBucket: \n    Description: Bucket with artifacts such as Lambda functions and external libraries\n    Type: AWS::SSM::Parameter::Value<String>\n    Default: /healthcare-data-lake/artifact-bucket\n  Hl7ParsingLibKey:\n    Description: Key for our HL7 parsing library\n    Type: AWS::SSM::Parameter::Value<String>\n    Default: /healthcare-data-lake/hl7v2-parsing-Lambda-Layer\n  Hl7ParsingFuncKey: \n    Description: Key for our HL7 parsing Lambda function\n    Type: AWS::SSM::Parameter::Value<String>\n    Default: /healthcare-data-lake/hl7v2-parsing-Lambda\n  DataLakeBucketName:\n    Description: Bucket for ingesting and processing healthcare data\n    Type: String\n\nResources:\n  #-------------------------------------------------------------- Data Lake bucket\n  DataLakeBucket:\n    Type: AWS::S3::Bucket\n    Properties:\n      BucketName: !Ref DataLakeBucketName\n      \n      # Encryption at rest\n      BucketEncryption: \n        ServerSideEncryptionConfiguration:\n        - ServerSideEncryptionByDefault:\n            SSEAlgorithm: AES256\n      \n      # Block all public access\n      PublicAccessBlockConfiguration:\n        BlockPublicAcls: true\n        IgnorePublicAcls: true\n        BlockPublicPolicy: true\n        RestrictPublicBuckets: true   \n\n  #-------------------------------------------------------------- Cognito\n  UserPool:\n    Type: AWS::Cognito::UserPool\n    Properties:\n      AdminCreateUserConfig:\n        AllowAdminCreateUserOnly: true\n      UserPoolName: !Sub ${AWS::StackName}-UserPool\n      UsernameAttributes: [email]\n      \n  UserPoolClient:\n    Type: AWS::Cognito::UserPoolClient\n    Properties:\n      ClientName: !Sub ${AWS::StackName}-UserPoolClient\n      GenerateSecret: false\n      UserPoolId: !Ref UserPool\n      ExplicitAuthFlows:\n      - ALLOW_USER_PASSWORD_AUTH\n      - ALLOW_ADMIN_USER_PASSWORD_AUTH\n      - ALLOW_REFRESH_TOKEN_AUTH\n      PreventUserExistenceErrors: ENABLED\n  \n  #-------------------------------------------------------------- Lambda functions\n  Hl7apyLayer:\n    Type: AWS::Lambda::LayerVersion\n    Properties: \n      CompatibleRuntimes: [python2.7, python3.6, python3.7, python3.8]\n      Content: \n        S3Bucket: !Ref ArtifactBucket\n        S3Key: !Ref Hl7ParsingLibKey\n      LayerName: hl7apy\n      Description: \"HL7apy parser library\"\n      LicenseInfo: MIT\n  \n  # Role assumed by our Lambda parsing function, provides permission to access the data lake bucket\n  Er7ToJsonLambdaRole:\n    Type: AWS::IAM::Role\n    Properties: \n      AssumeRolePolicyDocument: \n        Version: 2012-10-17\n        Statement:\n        - Effect: Allow\n          Principal:\n            Service: [lambda.amazonaws.com]\n          Action: ['sts:AssumeRole']\n      ManagedPolicyArns: \n      - arn:aws:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole # Provides access to CloudWatch for logging\n      Policies:\n      - PolicyName: data-lake-bucket-access\n        PolicyDocument:\n          Version: 2012-10-17\n          Statement:\n          # Get and put objects in our bucket\n          - Effect: Allow\n            Action: ['s3:GetObject', 's3:PutObject']\n            Resource:\n            - !Join ['', ['arn:aws:s3:::', !Ref DataLakeBucket, /*]]\n\n  Er7ToJsonLambda:\n    Type: AWS::Lambda::Function\n    Properties: \n      FunctionName: !Sub ${AWS::StackName}_er7_to_json\n      Code:\n        S3Bucket: !Ref ArtifactBucket\n        S3Key: !Ref Hl7ParsingFuncKey\n      Description: HL7 converter from ER7 to JSON\n      Handler: er7_to_json.lambda_handler\n      Layers: [!Ref Hl7apyLayer]\n      Role: !GetAtt Er7ToJsonLambdaRole.Arn\n      Environment:\n        Variables:\n          data_lake_bucket: !Ref DataLakeBucketName\n      Runtime: python3.8\n      Timeout: 30\n      MemorySize: 256\n\n  #-------------------------------------------------------------- API Gateway\n  HttpAPI:\n    Type: AWS::ApiGatewayV2::Api\n    Properties:\n      Name: !Sub ${AWS::StackName}-APIGateway\n      ProtocolType: HTTP\n\n  DefaultStage:\n    Type: AWS::ApiGatewayV2::Stage\n    Properties: \n      ApiId: !Ref HttpAPI\n      AutoDeploy: true\n      Description: Default stage\n      StageName: $default\n  \n  Er7ToJsonIntegration:\n    Type: AWS::ApiGatewayV2::Integration\n    DependsOn: [Er7ToJsonLambda]\n    Properties: \n      ApiId: !Ref HttpAPI\n      IntegrationType: AWS_PROXY\n      IntegrationUri: !Sub arn:aws:apigateway:${AWS::Region}:lambda:path/2015-03-31/functions/${Er7ToJsonLambda.Arn}/invocations\n      PayloadFormatVersion: 2.0\n\n  MyAuthorizor:\n    Type: AWS::ApiGatewayV2::Authorizer\n    Properties: \n      Name: !Sub ${AWS::StackName}-Authorizer\n      ApiId: !Ref HttpAPI\n      AuthorizerType: JWT\n      IdentitySource: [$request.header.Authorization]\n      JwtConfiguration: \n        Audience: [!Ref UserPoolClient]\n        Issuer: !Sub https://cognito-idp.${AWS::Region}.amazonaws.com/${UserPool}\n\n  Hl7Er7PostRoute:\n    Type: AWS::ApiGatewayV2::Route\n    Properties:\n      ApiId: !Ref HttpAPI\n      RouteKey: \"POST /hl7v2/er7\"\n      AuthorizationType: JWT\n      AuthorizerId: !Ref MyAuthorizor\n      Target: !Join [/, [integrations, !Ref Er7ToJsonIntegration]]\n\n  # Permission for the HTTP gateway to invoke our function\n  HttpEr7ToJsonLambdaPermission:\n    Type: AWS::Lambda::Permission\n    DependsOn: [HttpAPI]\n    Properties:\n      Action: lambda:InvokeFunction\n      FunctionName: !Ref Er7ToJsonLambda\n      Principal: apigateway.amazonaws.com\n      SourceArn: !Sub arn:aws:execute-api:${AWS::Region}:${AWS::AccountId}:${HttpAPI}/*\n  \nOutputs:\n  UserPoolId:\n    Description: User Pool ID\n    Value: !Ref UserPool\n  AppClientId:\n    Description: App Client ID\n    Value: !Ref UserPoolClient\n  ApiGatewayId:\n    Description: API Gateway ID\n    Value: !Ref HttpAPI","undoManager":{"mark":98,"position":100,"stack":[[{"start":{"row":103,"column":38},"end":{"row":103,"column":39},"action":"insert","lines":[" "],"id":361}],[{"start":{"row":103,"column":39},"end":{"row":103,"column":40},"action":"remove","lines":["p"],"id":362},{"start":{"row":103,"column":39},"end":{"row":103,"column":40},"action":"remove","lines":["a"]},{"start":{"row":103,"column":39},"end":{"row":103,"column":40},"action":"remove","lines":["r"]},{"start":{"row":103,"column":39},"end":{"row":103,"column":40},"action":"remove","lines":["s"]},{"start":{"row":103,"column":39},"end":{"row":103,"column":40},"action":"remove","lines":["e"]},{"start":{"row":103,"column":39},"end":{"row":103,"column":40},"action":"remove","lines":["r"]},{"start":{"row":103,"column":39},"end":{"row":103,"column":40},"action":"remove","lines":[" "]},{"start":{"row":103,"column":39},"end":{"row":103,"column":40},"action":"remove","lines":["f"]},{"start":{"row":103,"column":39},"end":{"row":103,"column":40},"action":"remove","lines":["r"]},{"start":{"row":103,"column":39},"end":{"row":103,"column":40},"action":"remove","lines":["o"]},{"start":{"row":103,"column":39},"end":{"row":103,"column":40},"action":"remove","lines":["m"]},{"start":{"row":103,"column":39},"end":{"row":103,"column":40},"action":"remove","lines":[" "]}],[{"start":{"row":94,"column":22},"end":{"row":94,"column":44},"action":"insert","lines":["${MyInstance.PublicIp}"],"id":363}],[{"start":{"row":94,"column":44},"end":{"row":94,"column":45},"action":"insert","lines":[" "],"id":364}],[{"start":{"row":94,"column":53},"end":{"row":94,"column":71},"action":"remove","lines":["DataLakeBucket.Arn"],"id":365}],[{"start":{"row":94,"column":24},"end":{"row":94,"column":43},"action":"remove","lines":["MyInstance.PublicIp"],"id":366},{"start":{"row":94,"column":24},"end":{"row":94,"column":42},"action":"insert","lines":["DataLakeBucket.Arn"]}],[{"start":{"row":94,"column":43},"end":{"row":94,"column":52},"action":"remove","lines":[" !GetAtt "],"id":367}],[{"start":{"row":99,"column":20},"end":{"row":99,"column":42},"action":"insert","lines":["!Sub ${AWS::StackName}"],"id":368}],[{"start":{"row":99,"column":42},"end":{"row":99,"column":43},"action":"remove","lines":["\""],"id":369},{"start":{"row":99,"column":42},"end":{"row":99,"column":43},"action":"insert","lines":["_"]}],[{"start":{"row":99,"column":54},"end":{"row":99,"column":55},"action":"remove","lines":["\""],"id":370}],[{"start":{"row":104,"column":42},"end":{"row":104,"column":43},"action":"remove","lines":["\""],"id":371}],[{"start":{"row":104,"column":15},"end":{"row":104,"column":16},"action":"remove","lines":["\""],"id":372}],[{"start":{"row":103,"column":19},"end":{"row":103,"column":20},"action":"remove","lines":["\""],"id":373}],[{"start":{"row":103,"column":49},"end":{"row":103,"column":50},"action":"remove","lines":["\""],"id":374}],[{"start":{"row":108,"column":0},"end":{"row":108,"column":2},"action":"insert","lines":["  "],"id":375},{"start":{"row":109,"column":0},"end":{"row":109,"column":2},"action":"insert","lines":["  "]}],[{"start":{"row":94,"column":0},"end":{"row":94,"column":1},"action":"insert","lines":["#"],"id":376}],[{"start":{"row":94,"column":46},"end":{"row":95,"column":0},"action":"insert","lines":["",""],"id":377}],[{"start":{"row":95,"column":0},"end":{"row":96,"column":75},"action":"insert","lines":["Resource:","          - !Join ['', ['arn:aws:s3:::', !Ref 'RecordServiceS3Bucket', /*]]"],"id":378}],[{"start":{"row":95,"column":0},"end":{"row":95,"column":2},"action":"insert","lines":["  "],"id":379}],[{"start":{"row":95,"column":2},"end":{"row":95,"column":4},"action":"insert","lines":["  "],"id":380}],[{"start":{"row":95,"column":4},"end":{"row":95,"column":6},"action":"insert","lines":["  "],"id":381}],[{"start":{"row":95,"column":6},"end":{"row":95,"column":8},"action":"insert","lines":["  "],"id":382}],[{"start":{"row":95,"column":8},"end":{"row":95,"column":10},"action":"insert","lines":["  "],"id":383}],[{"start":{"row":95,"column":10},"end":{"row":95,"column":12},"action":"insert","lines":["  "],"id":384}],[{"start":{"row":96,"column":10},"end":{"row":96,"column":12},"action":"insert","lines":["  "],"id":385}],[{"start":{"row":96,"column":49},"end":{"row":96,"column":70},"action":"remove","lines":["RecordServiceS3Bucket"],"id":386},{"start":{"row":96,"column":49},"end":{"row":96,"column":63},"action":"insert","lines":["DataLakeBucket"]}],[{"start":{"row":94,"column":0},"end":{"row":94,"column":46},"action":"remove","lines":["#            Resource: ${DataLakeBucket.Arn}/*"],"id":387},{"start":{"row":93,"column":52},"end":{"row":94,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":95,"column":48},"end":{"row":95,"column":49},"action":"remove","lines":["'"],"id":388}],[{"start":{"row":95,"column":62},"end":{"row":95,"column":63},"action":"remove","lines":["'"],"id":389}],[{"start":{"row":156,"column":37},"end":{"row":157,"column":0},"action":"insert","lines":["",""],"id":390},{"start":{"row":157,"column":0},"end":{"row":157,"column":6},"action":"insert","lines":["      "]},{"start":{"row":157,"column":6},"end":{"row":157,"column":7},"action":"insert","lines":["T"]},{"start":{"row":157,"column":7},"end":{"row":157,"column":8},"action":"insert","lines":["a"]},{"start":{"row":157,"column":8},"end":{"row":157,"column":9},"action":"insert","lines":["r"]}],[{"start":{"row":157,"column":9},"end":{"row":157,"column":10},"action":"insert","lines":["g"],"id":391},{"start":{"row":157,"column":10},"end":{"row":157,"column":11},"action":"insert","lines":["e"]},{"start":{"row":157,"column":11},"end":{"row":157,"column":12},"action":"insert","lines":["t"]}],[{"start":{"row":157,"column":12},"end":{"row":157,"column":13},"action":"insert","lines":[":"],"id":392}],[{"start":{"row":157,"column":13},"end":{"row":158,"column":0},"action":"insert","lines":["",""],"id":393},{"start":{"row":158,"column":0},"end":{"row":158,"column":6},"action":"insert","lines":["      "]}],[{"start":{"row":158,"column":6},"end":{"row":158,"column":62},"action":"insert","lines":["- !Join ['', ['arn:aws:s3:::', !Ref DataLakeBucket, /*]]"],"id":394}],[{"start":{"row":157,"column":13},"end":{"row":157,"column":14},"action":"insert","lines":[" "],"id":395}],[{"start":{"row":157,"column":14},"end":{"row":158,"column":0},"action":"remove","lines":["",""],"id":396},{"start":{"row":157,"column":14},"end":{"row":157,"column":16},"action":"remove","lines":["  "]},{"start":{"row":157,"column":14},"end":{"row":157,"column":16},"action":"remove","lines":["  "]},{"start":{"row":157,"column":14},"end":{"row":157,"column":16},"action":"remove","lines":["  "]},{"start":{"row":157,"column":14},"end":{"row":157,"column":15},"action":"remove","lines":["-"]},{"start":{"row":157,"column":14},"end":{"row":157,"column":15},"action":"remove","lines":[" "]}],[{"start":{"row":157,"column":26},"end":{"row":157,"column":41},"action":"remove","lines":["'arn:aws:s3:::'"],"id":397},{"start":{"row":157,"column":26},"end":{"row":157,"column":27},"action":"insert","lines":["/"]}],[{"start":{"row":157,"column":28},"end":{"row":157,"column":29},"action":"insert","lines":[" "],"id":398},{"start":{"row":157,"column":29},"end":{"row":157,"column":30},"action":"insert","lines":["i"]},{"start":{"row":157,"column":30},"end":{"row":157,"column":31},"action":"insert","lines":["n"]},{"start":{"row":157,"column":31},"end":{"row":157,"column":32},"action":"insert","lines":["t"]},{"start":{"row":157,"column":32},"end":{"row":157,"column":33},"action":"insert","lines":["e"]},{"start":{"row":157,"column":33},"end":{"row":157,"column":34},"action":"insert","lines":["g"]},{"start":{"row":157,"column":34},"end":{"row":157,"column":35},"action":"insert","lines":["r"]},{"start":{"row":157,"column":35},"end":{"row":157,"column":36},"action":"insert","lines":["a"]},{"start":{"row":157,"column":36},"end":{"row":157,"column":37},"action":"insert","lines":["t"]},{"start":{"row":157,"column":37},"end":{"row":157,"column":38},"action":"insert","lines":["i"]},{"start":{"row":157,"column":38},"end":{"row":157,"column":39},"action":"insert","lines":["o"]},{"start":{"row":157,"column":39},"end":{"row":157,"column":40},"action":"insert","lines":["n"]}],[{"start":{"row":157,"column":40},"end":{"row":157,"column":41},"action":"insert","lines":["s"],"id":399}],[{"start":{"row":157,"column":41},"end":{"row":157,"column":42},"action":"insert","lines":[","],"id":400}],[{"start":{"row":161,"column":12},"end":{"row":161,"column":37},"action":"remove","lines":["!Ref Er7ToJsonIntegration"],"id":401}],[{"start":{"row":157,"column":42},"end":{"row":157,"column":66},"action":"remove","lines":[" !Ref DataLakeBucket, /*"],"id":402},{"start":{"row":157,"column":42},"end":{"row":157,"column":67},"action":"insert","lines":["!Ref Er7ToJsonIntegration"]}],[{"start":{"row":157,"column":42},"end":{"row":157,"column":43},"action":"insert","lines":[" "],"id":403}],[{"start":{"row":161,"column":12},"end":{"row":161,"column":37},"action":"insert","lines":["!Ref Er7ToJsonIntegration"],"id":404}],[{"start":{"row":158,"column":6},"end":{"row":158,"column":8},"action":"insert","lines":["# "],"id":405},{"start":{"row":159,"column":6},"end":{"row":159,"column":8},"action":"insert","lines":["# "]},{"start":{"row":160,"column":6},"end":{"row":160,"column":8},"action":"insert","lines":["# "]},{"start":{"row":161,"column":6},"end":{"row":161,"column":8},"action":"insert","lines":["# "]}],[{"start":{"row":171,"column":22},"end":{"row":171,"column":23},"action":"remove","lines":["\""],"id":406}],[{"start":{"row":171,"column":87},"end":{"row":171,"column":88},"action":"remove","lines":["\""],"id":407}],[{"start":{"row":172,"column":2},"end":{"row":190,"column":14},"action":"remove","lines":["","  # EchoLambda:","  #   Type: AWS::Lambda::Function","  #   Properties:","  #     FunctionName: !Sub ${AWS::StackName}-APIGatewayHandler","  #     Runtime: nodejs12.x  ","  #     Role: !GetAtt Er7ToJsonLambdaRole.Arn","  #     Handler: index.handler","  #     Code:","  #       ZipFile: |","  #         exports.handler = async (event) => {","  #           console.info(\"EVENT\\n\" + JSON.stringify(event, null, 2))","  #           // TODO implement","  #           const response = {","  #               statusCode: 200,","  #               body: JSON.stringify(event),","  #           };","  #           return response;","  #         };"],"id":408},{"start":{"row":172,"column":2},"end":{"row":173,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":158,"column":0},"end":{"row":161,"column":39},"action":"remove","lines":["      # Target: !Join","      #   - /","      #   - - integrations","      #     - !Ref Er7ToJsonIntegration"],"id":409}],[{"start":{"row":158,"column":0},"end":{"row":159,"column":0},"action":"remove","lines":["",""],"id":410}],[{"start":{"row":95,"column":26},"end":{"row":95,"column":27},"action":"remove","lines":["'"],"id":411}],[{"start":{"row":95,"column":39},"end":{"row":95,"column":40},"action":"remove","lines":["'"],"id":412}],[{"start":{"row":93,"column":21},"end":{"row":93,"column":22},"action":"remove","lines":["'"],"id":413}],[{"start":{"row":93,"column":33},"end":{"row":93,"column":34},"action":"remove","lines":["'"],"id":414}],[{"start":{"row":93,"column":35},"end":{"row":93,"column":36},"action":"remove","lines":["'"],"id":415}],[{"start":{"row":93,"column":47},"end":{"row":93,"column":48},"action":"remove","lines":["'"],"id":416}],[{"start":{"row":83,"column":19},"end":{"row":83,"column":20},"action":"remove","lines":["'"],"id":417}],[{"start":{"row":83,"column":33},"end":{"row":83,"column":34},"action":"remove","lines":["'"],"id":418}],[{"start":{"row":82,"column":22},"end":{"row":82,"column":23},"action":"remove","lines":["'"],"id":419}],[{"start":{"row":82,"column":42},"end":{"row":82,"column":43},"action":"remove","lines":["'"],"id":420}],[{"start":{"row":69,"column":24},"end":{"row":69,"column":25},"action":"remove","lines":["\""],"id":421}],[{"start":{"row":69,"column":17},"end":{"row":69,"column":18},"action":"remove","lines":["\""],"id":422}],[{"start":{"row":71,"column":19},"end":{"row":71,"column":20},"action":"remove","lines":["\""],"id":423}],[{"start":{"row":71,"column":22},"end":{"row":71,"column":23},"action":"remove","lines":["\""],"id":424}],[{"start":{"row":65,"column":27},"end":{"row":65,"column":28},"action":"remove","lines":["\""],"id":425}],[{"start":{"row":65,"column":36},"end":{"row":65,"column":37},"action":"remove","lines":["\""],"id":426}],[{"start":{"row":65,"column":38},"end":{"row":65,"column":39},"action":"remove","lines":["\""],"id":427}],[{"start":{"row":65,"column":47},"end":{"row":65,"column":48},"action":"remove","lines":["\""],"id":428}],[{"start":{"row":65,"column":49},"end":{"row":65,"column":50},"action":"remove","lines":["\""],"id":429}],[{"start":{"row":65,"column":58},"end":{"row":65,"column":59},"action":"remove","lines":["\""],"id":430}],[{"start":{"row":65,"column":60},"end":{"row":65,"column":61},"action":"remove","lines":["\""],"id":431}],[{"start":{"row":65,"column":69},"end":{"row":65,"column":70},"action":"remove","lines":["\""],"id":432}],[{"start":{"row":6,"column":45},"end":{"row":6,"column":46},"action":"remove","lines":["'"],"id":433}],[{"start":{"row":6,"column":10},"end":{"row":6,"column":11},"action":"remove","lines":["'"],"id":434}],[{"start":{"row":10,"column":10},"end":{"row":10,"column":11},"action":"remove","lines":["'"],"id":435}],[{"start":{"row":10,"column":44},"end":{"row":10,"column":45},"action":"remove","lines":["'"],"id":436}],[{"start":{"row":14,"column":45},"end":{"row":14,"column":46},"action":"remove","lines":["'"],"id":437}],[{"start":{"row":14,"column":10},"end":{"row":14,"column":11},"action":"remove","lines":["'"],"id":438}],[{"start":{"row":83,"column":19},"end":{"row":83,"column":20},"action":"insert","lines":["'"],"id":439}],[{"start":{"row":83,"column":34},"end":{"row":83,"column":35},"action":"insert","lines":["'"],"id":440}],[{"start":{"row":93,"column":21},"end":{"row":93,"column":22},"action":"insert","lines":["'"],"id":441}],[{"start":{"row":93,"column":34},"end":{"row":93,"column":35},"action":"insert","lines":["'"],"id":442}],[{"start":{"row":93,"column":37},"end":{"row":93,"column":38},"action":"insert","lines":["'"],"id":443}],[{"start":{"row":93,"column":50},"end":{"row":93,"column":51},"action":"insert","lines":["'"],"id":444}],[{"start":{"row":95,"column":26},"end":{"row":95,"column":27},"action":"insert","lines":["'"],"id":445}],[{"start":{"row":95,"column":40},"end":{"row":95,"column":42},"action":"insert","lines":["''"],"id":446}],[{"start":{"row":95,"column":41},"end":{"row":95,"column":42},"action":"remove","lines":["'"],"id":447}],[{"start":{"row":157,"column":70},"end":{"row":158,"column":0},"action":"insert","lines":["",""],"id":448},{"start":{"row":158,"column":0},"end":{"row":158,"column":6},"action":"insert","lines":["      "]}],[{"start":{"row":158,"column":6},"end":{"row":161,"column":30},"action":"insert","lines":["      Target: !Join","        - /","        - - integrations","          - !Ref MyIntegration"],"id":449}],[{"start":{"row":158,"column":0},"end":{"row":158,"column":2},"action":"remove","lines":["  "],"id":450}],[{"start":{"row":158,"column":0},"end":{"row":158,"column":2},"action":"remove","lines":["  "],"id":451}],[{"start":{"row":158,"column":0},"end":{"row":158,"column":2},"action":"remove","lines":["  "],"id":452}],[{"start":{"row":159,"column":0},"end":{"row":159,"column":2},"action":"remove","lines":["  "],"id":453},{"start":{"row":160,"column":0},"end":{"row":160,"column":2},"action":"remove","lines":["  "]},{"start":{"row":161,"column":0},"end":{"row":161,"column":2},"action":"remove","lines":["  "]}],[{"start":{"row":161,"column":15},"end":{"row":161,"column":28},"action":"remove","lines":["MyIntegration"],"id":454},{"start":{"row":161,"column":15},"end":{"row":161,"column":35},"action":"insert","lines":["Er7ToJsonIntegration"]}],[{"start":{"row":157,"column":22},"end":{"row":157,"column":23},"action":"remove","lines":["'"],"id":455},{"start":{"row":157,"column":21},"end":{"row":157,"column":22},"action":"remove","lines":["'"]}],[{"start":{"row":157,"column":21},"end":{"row":157,"column":22},"action":"insert","lines":["/"],"id":456}],[{"start":{"row":157,"column":25},"end":{"row":157,"column":26},"action":"remove","lines":["/"],"id":457},{"start":{"row":157,"column":25},"end":{"row":157,"column":26},"action":"remove","lines":[","]},{"start":{"row":157,"column":25},"end":{"row":157,"column":26},"action":"remove","lines":[" "]}],[{"start":{"row":158,"column":6},"end":{"row":158,"column":8},"action":"insert","lines":["# "],"id":458},{"start":{"row":159,"column":6},"end":{"row":159,"column":8},"action":"insert","lines":["# "]},{"start":{"row":160,"column":6},"end":{"row":160,"column":8},"action":"insert","lines":["# "]},{"start":{"row":161,"column":6},"end":{"row":161,"column":8},"action":"insert","lines":["# "]}],[{"start":{"row":158,"column":0},"end":{"row":161,"column":37},"action":"remove","lines":["      # Target: !Join","      # - /","      # - - integrations","      #   - !Ref Er7ToJsonIntegration"],"id":459},{"start":{"row":157,"column":66},"end":{"row":158,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":110,"column":51},"end":{"row":110,"column":52},"action":"insert","lines":[" "],"id":460}],[{"start":{"row":110,"column":51},"end":{"row":110,"column":52},"action":"remove","lines":[" "],"id":461}]]},"ace":{"folds":[{"start":{"row":77,"column":32},"end":{"row":83,"column":36},"placeholder":"..."}],"scrolltop":1050,"scrollleft":0,"selection":{"start":{"row":70,"column":0},"end":{"row":70,"column":0},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1587562853769}